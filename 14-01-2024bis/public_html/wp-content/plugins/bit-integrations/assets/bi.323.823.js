var g=Object.defineProperty;var x=Object.getOwnPropertySymbols;var u=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var h=(s,l,t)=>l in s?g(s,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[l]=t,c=(s,l)=>{for(var t in l||(l={}))u.call(l,t)&&h(s,t,l[t]);if(x)for(var t of x(l))F.call(l,t)&&h(s,t,l[t]);return s};import{m as f,j as e}from"./main-577.js";import{B as N,_ as n,ae as v,a6 as _}from"./bi.655.81.js";import{S as w}from"./bi.622.681.js";import{g as y}from"./bi.270.822.js";const j=(s,l,t)=>{const i=c({},l);i.field_map.splice(s,0,{}),t(c({},i))},k=(s,l,t)=>{const i=c({},l);i.field_map.length>1&&i.field_map.splice(s,1),t(c({},i))};function S({i:s,formFields:l,field:t,pCloudConf:i,setPCloudConf:r}){var p;const{isPro:m}=f(N),d=(a,o)=>{const b=c({},i);b.field_map[o][a.target.name]=a.target.value,r(c({},b))};return e.jsx("div",{className:"flx mt-2 mb-2 btcbi-field-map",children:e.jsxs("div",{className:"pos-rel flx",children:[e.jsxs("div",{className:"flx integ-fld-wrp",children:[e.jsxs("select",{className:"btcd-paper-inp mr-2",name:"formField",value:t.formField||"",onChange:a=>d(a,s),children:[e.jsx("option",{value:"",children:n("Select Field","bit-integrations")}),e.jsx("optgroup",{label:"Form Fields",children:l==null?void 0:l.filter(a=>a.type==="file").map(a=>e.jsx("option",{value:a.name,children:a.label},`ff-rm-${a.name}`))}),e.jsx("optgroup",{label:`General Smart Codes ${m?"":"(PRO)"}`,children:m&&((p=w)==null?void 0:p.map(a=>e.jsx("option",{value:a.name,children:a.label},`ff-rm-${a.name}`)))})]}),e.jsxs("select",{className:"btcd-paper-inp",name:"pCloudFormField",value:t.pCloudFormField,onChange:a=>d(a,s),children:[e.jsx("option",{value:"",children:n("Select Folder","bit-integrations")}),e.jsx("option",{value:"0",children:n("Root Folder","bit-integrations")}),v(i.foldersList,"name","ASC").map(({name:a,id:o})=>e.jsx("option",{value:o,children:a},o))]})]}),e.jsx("button",{onClick:()=>j(s,i,r),className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),e.jsx("button",{onClick:()=>k(s,i,r),className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:e.jsx("span",{className:"btcd-icn icn-trash-2"})})]})})}function $({pCloudConf:s,setPCloudConf:l}){var i;const t=(r,m)=>{const d=c({},s);m==="deleteFile"&&(r.target.checked?d.actions.delete_from_wp=!0:delete d.actions.delete_from_wp),l(c({},d))};return e.jsx("div",{className:"pos-rel d-flx w-8",children:e.jsx(_,{checked:((i=s.actions)==null?void 0:i.delete_from_wp)||!1,onChange:r=>t(r,"deleteFile"),className:"mt-4 mr-2",value:"delete_from_wp",title:n("Delete File From Wordpress","bit-integrations"),subTitle:n("Delete file from Wordpress after upload in PCloud","bit-integrations")})})}function D({flowID:s,formFields:l,pCloudConf:t,setPCloudConf:i}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-5",children:[e.jsx("b",{className:"wdt-100",children:n("Field Map","bit-integrations")}),e.jsx("button",{onClick:()=>y(t,i,"refresh"),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Fetch All PCloud Folders","bit-integrations")}'`},type:"button",children:"â†»"})]}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-2 btcbi-field-map-label",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("File Input","bit-integrations")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("PCloud Folder","bit-integrations")})})]}),t==null?void 0:t.field_map.map((r,m)=>e.jsx(S,{i:m,field:r,formFields:l,pCloudConf:t,setPCloudConf:i},`rp-m-${m+9}`)),e.jsx("div",{className:"txt-center btcbi-field-map-button mt-2",children:e.jsx("button",{onClick:()=>j(t.field_map.length,t,i),className:"icn-btn sh-sm",type:"button",children:"+"})}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Actions","bit-integrations")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsx($,{pCloudConf:t,setPCloudConf:i})]})}export{D as P};
