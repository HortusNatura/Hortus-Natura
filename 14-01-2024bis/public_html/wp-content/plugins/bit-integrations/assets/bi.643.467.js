var W=Object.defineProperty;var h=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var x=(a,s,t)=>s in a?W(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,_=(a,s)=>{for(var t in s||(s={}))F.call(s,t)&&x(a,t,s[t]);if(h)for(var t of h(s))L.call(s,t)&&x(a,t,s[t]);return a};import{i as T,r,j as i}from"./main-577.js";import{e as w,_ as E,d}from"./bi.655.81.js";import{S as P}from"./bi.880.909.js";import{e as A}from"./bi.787.676.js";import{I as M}from"./bi.672.677.js";import z from"./bi.566.327.js";import{h as B,c as v}from"./bi.235.902.js";import{W as D}from"./bi.803.903.js";import"./bi.827.680.js";import"./bi.587.674.js";import"./bi.934.737.js";import"./bi.622.681.js";function ee({formFields:a,setFlow:s,flow:t,allIntegURL:f}){const m=T(),[y,u]=r.useState(!1),[b,k]=r.useState({}),[l,q]=r.useState(1),[j,c]=r.useState({show:!1}),S=[{key:"first_name",label:"First name",required:!1},{key:"last_name",label:"Last name",required:!1},{key:"company",label:"Company",required:!1},{key:"industry",label:"Industry",required:!1},{key:"website",label:"Website",required:!1},{key:"email",label:"Email",required:!0},{key:"phone",label:"Phone",required:!1},{key:"linkedin_url",label:"Linkedin URL",required:!1},{key:"tags",label:"Tags",required:!1},{key:"title",label:"Title",required:!1},{key:"address",label:"Address",required:!1},{key:"city",label:"City",required:!1},{key:"state",label:"State",required:!1},{key:"country",label:"Country",required:!1},{key:"snipet1",label:"snipet1",required:!1},{key:"snipet2",label:"snipet2",required:!1},{key:"snipet3",label:"snipet3",required:!1},{key:"snipet4",label:"snipet4",required:!1},{key:"snippet1",label:"snippet1",required:!1},{key:"snippet2",label:"snippet2",required:!1},{key:"snippet3",label:"snippet3",required:!1},{key:"snippet4",label:"snippet4",required:!1},{key:"snippet5",label:"snippet5",required:!1},{key:"snippet6",label:"snippet6",required:!1},{key:"snippet7",label:"snippet7",required:!1},{key:"snippet8",label:"snippet8",required:!1},{key:"snippet9",label:"snippet9",required:!1},{key:"snippet10",label:"snippet10",required:!1},{key:"snippet11",label:"snippet11",required:!1},{key:"snippet12",label:"snippet12",required:!1},{key:"snippet13",label:"snippet13",required:!1},{key:"snippet14",label:"snippet14",required:!1},{key:"snippet15",label:"snippet15",required:!1}],N=[{key:"name",label:"Company Name",required:!0}],[e,n]=r.useState({name:"Woodpecker",type:"Woodpecker",api_key:"",field_map:[{formField:"",woodpeckerFormField:""}],actionName:"",actionId:"",prospectsFields:S,companyFields:N,actions:{}}),C=()=>{u(!0),A(t,s,f,e,m,"","",u).then(o=>{var g;o.success?(d.success((g=o.data)==null?void 0:g.msg),m(f)):d.error(o.data||o)})},I=p=>{if(setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),!v(e)){d.error("Please map mandatory fields");return}if(e.actionName==="adding_prospects_to_the_campaign"&&!e.selectedCampaign){d.error("Please select a Campaign");return}e.field_map.length>0&&q(p)};return i.jsxs("div",{children:[i.jsx(w,{snack:j,setSnackbar:c}),i.jsx("div",{className:"txt-center mt-2",children:i.jsx(P,{step:3,active:l})}),i.jsx(z,{woodpeckerConf:e,setWoodpeckerConf:n,step:l,setStep:q,loading:b,setLoading:k,setSnackbar:c}),i.jsxs("div",{className:"btcd-stp-page",style:_({},l===2&&{width:900,height:"auto",overflow:"visible"}),children:[i.jsx(D,{formFields:a,handleInput:p=>B(p,e,n),woodpeckerConf:e,setWoodpeckerConf:n,loading:b,setLoading:k,isLoading:y,setIsLoading:u,setSnackbar:c}),(e==null?void 0:e.actionName)&&i.jsxs("button",{onClick:()=>I(3),disabled:!v(e),className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[E("Next","bit-integrations")," ","Â ",i.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),(e==null?void 0:e.actionName)&&i.jsx(M,{step:l,saveConfig:()=>C(),isLoading:y,dataConf:e,setDataConf:n,formFields:a})]})}export{ee as default};
