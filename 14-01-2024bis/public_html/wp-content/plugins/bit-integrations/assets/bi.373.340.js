import{i as k,u as j,r as n,j as e}from"./main-577.js";import{e as I,_ as l}from"./bi.655.81.js";import{B as M}from"./bi.232.720.js";import{S}from"./bi.880.909.js";import{e as Z}from"./bi.787.676.js";import{I as v}from"./bi.672.677.js";import H from"./bi.578.232.js";import{s as N,h as _,c as w,r as y}from"./bi.471.701.js";import{Z as C}from"./bi.762.702.js";import"./bi.827.680.js";import"./bi.587.674.js";import"./bi.934.737.js";import"./bi.622.681.js";import"./bi.933.682.js";import"./bi.265.683.js";function Q({formFields:f,setFlow:g,flow:u,allIntegURL:d}){const h=k(),{formID:r}=j(),[p,a]=n.useState(!1),[i,c]=n.useState(1),[b,s]=n.useState({show:!1}),[t,m]=n.useState({name:"Zoho Marketing Automation(Zoho Marketing Hub)",type:"Zoho Marketing Automation(Zoho Marketing Hub)",clientId:"",clientSecret:"",list:"",field_map:[{formField:"",zohoFormField:""}]});n.useEffect(()=>{window.opener&&N()},[]);const x=o=>{if(o===3){if(!w(t)){s({show:!0,msg:l("Please map mandatory fields","bit-integrations")});return}t.list!==""&&t.table!==""&&t.field_map.length>0&&c(o)}else c(o),o===2&&!t.list&&y(r,t,m,a,s)};return e.jsxs("div",{children:[e.jsx(I,{snack:b,setSnackbar:s}),e.jsx("div",{className:"txt-center mt-2",children:e.jsx(S,{step:3,active:i})}),e.jsx(H,{formID:r,marketingHubConf:t,setMarketingHubConf:m,step:i,setstep:c,isLoading:p,setIsLoading:a,setSnackbar:s}),e.jsxs("div",{className:"btcd-stp-page",style:{width:i===2&&900,height:i===2&&"auto"},children:[e.jsx(C,{formID:r,formFields:f,handleInput:o=>_(o,r,t,m,a,s),marketingHubConf:t,setMarketingHubConf:m,isLoading:p,setIsLoading:a,setSnackbar:s}),e.jsxs("button",{onClick:()=>x(3),disabled:t.list===""||t.table===""||t.field_map.length<1,className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[l("Next","bit-integrations"),e.jsx(M,{className:"ml-1 rev-icn"})]})]}),e.jsx(v,{step:i,saveConfig:()=>Z(u,g,d,t,h,"","",a),isLoading:p})]})}export{Q as default};
