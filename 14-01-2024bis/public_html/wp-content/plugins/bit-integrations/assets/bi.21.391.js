var D=Object.defineProperty;var k=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var T=(a,s,n)=>s in a?D(a,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[s]=n,N=(a,s)=>{for(var n in s||(s={}))L.call(s,n)&&T(a,n,s[n]);if(k)for(var n of k(s))z.call(s,n)&&T(a,n,s[n]);return a};import{r as d,j as e,i as C,u as A}from"./main-577.js";import{_ as i,L as B,e as W}from"./bi.655.81.js";import{S as E}from"./bi.880.909.js";import{s as P}from"./bi.787.676.js";import{I as _}from"./bi.672.677.js";import{B as F}from"./bi.232.720.js";import{a as M,W as q,h as R,c as w}from"./bi.659.779.js";import{T as S,t as G}from"./bi.934.737.js";import"./bi.827.680.js";import"./bi.587.674.js";import"./bi.832.724.js";/* empty css          */import"./bi.622.681.js";import"./bi.933.682.js";import"./bi.265.683.js";function H({formID:a,whatsAppConf:s,setWhatsAppConf:n,step:h,setstep:y,isLoading:j,setIsLoading:m,setSnackbar:u,redirectLocation:b,isInfo:o}){const[p,r]=d.useState(!1),[g,f]=d.useState({dataCenter:"",clientId:""}),{whatsApp:t}=G,c=()=>{setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),y(2)},l=x=>{const v=N({},s),I=N({},g);I[x.target.name]="",v[x.target.name]=x.target.value,f(I),n(v)};return e.jsxs("div",{className:"btcd-stp-page",style:{width:h===1&&900,height:h===1&&"auto"},children:[(t==null?void 0:t.youTubeLink)&&e.jsx(S,{title:t==null?void 0:t.title,youTubeLink:t==null?void 0:t.youTubeLink}),(t==null?void 0:t.docLink)&&e.jsx(S,{title:t==null?void 0:t.title,docLink:t==null?void 0:t.docLink}),e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:i("Integration Name:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp w-6 mt-1",onChange:l,name:"name",value:s.name,type:"text",placeholder:i("Integration Name...","bit-integrations"),disabled:o}),e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:i("Phone number ID:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp w-6 mt-1",onChange:l,name:"numberID",value:s.numberID,type:"text",placeholder:i("Number ID...","bit-integrations"),disabled:o}),e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:i("WhatsApp Business Account ID:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp w-6 mt-1",onChange:l,name:"businessAccountID",value:s.businessAccountID,type:"text",placeholder:i("Business Account ID...","bit-integrations"),disabled:o}),e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:i("Access Token:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp w-6 mt-1",onChange:l,name:"token",value:s.token,type:"text",placeholder:i("Access Token...","bit-integrations"),disabled:o}),e.jsx("div",{style:{color:"red",fontSize:"15px"},children:g.clientId}),e.jsx("div",{style:{color:"red",fontSize:"15px"},children:g.clientSecret}),!o&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>M(s,n,f,r,m,u),className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:p||j,children:[p?i("Authorized ✔","bit-integrations"):i("Authorize","bit-integrations"),j&&e.jsx(B,{size:20,clr:"#022217",className:"ml-2"})]}),e.jsx("br",{}),e.jsxs("button",{onClick:c,className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",disabled:!p,children:[i("Next","bit-integrations"),e.jsx(F,{className:"ml-1 rev-icn"})]})]})]})}function oe({formFields:a,setFlow:s,flow:n,allIntegURL:h}){const y=C(),{formID:j}=A(),[m,u]=d.useState(!1),[b,o]=d.useState(1),[p,r]=d.useState({show:!1}),g=[{key:"phone",label:"Phone",required:!0}],f=[{id:"2",label:"Template"}],[t,c]=d.useState({name:"WhatsApp",type:"WhatsApp",numberID:"",businessAccountID:"",messageType:f,messageTypeId:"",body:"",templateName:"",token:"",field_map:[{formField:"",whatsAppFormField:""}],whatsAppFields:g,address_field:[],actions:{}}),l=()=>{if(setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),w(t)){r({show:!0,msg:"Please map fields to continue."});return}o(3)},x=t.messageTypeId==="1"?t.body==="":t.templateName==="";return e.jsxs("div",{children:[e.jsx(W,{snack:p,setSnackbar:r}),e.jsx("div",{className:"txt-center mt-2",children:e.jsx(E,{step:3,active:b})}),e.jsx(H,{formID:j,whatsAppConf:t,setWhatsAppConf:c,step:b,setstep:o,isLoading:m,setIsLoading:u,setSnackbar:r}),e.jsxs("div",{className:"btcd-stp-page",style:N({},b===2&&{width:900,height:"auto",overflow:"visible"}),children:[e.jsx(q,{formFields:a,handleInput:v=>R(v,t,c),whatsAppConf:t,setWhatsAppConf:c,isLoading:m,setIsLoading:u,setSnackbar:r}),e.jsxs("button",{onClick:()=>l(),disabled:x,className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[i("Next","bit-integrations")," "," ",e.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),e.jsx(_,{step:b,saveConfig:()=>P({flow:n,setFlow:s,allIntegURL:h,navigate:y,conf:t,setIsLoading:u,setSnackbar:r}),isLoading:m,dataConf:t,setDataConf:c,formFields:a})]})}export{oe as default};
