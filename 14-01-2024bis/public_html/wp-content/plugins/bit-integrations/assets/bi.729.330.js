var N=Object.defineProperty;var m=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var f=(a,s,t)=>s in a?N(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,l=(a,s)=>{for(var t in s||(s={}))S.call(s,t)&&f(a,t,s[t]);if(m)for(var t of m(s))L.call(s,t)&&f(a,t,s[t]);return a};import{g as T,i as w,r,j as i}from"./main-577.js";import{e as E,_ as g}from"./bi.655.81.js";import{S as F}from"./bi.880.909.js";import{e as V}from"./bi.787.676.js";import{c as _,C as $}from"./bi.865.826.js";import I from"./bi.390.287.js";import{T as b,t as M}from"./bi.934.737.js";function B(){const a=["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9"];let s=[];for(let t=0;t<36;t++)t===8||t===13||t===18||t===23?s[t]="-":s[t]=a[Math.ceil(Math.random()*a.length-1)];return s.join("")}var P=B,D=T(P);const Q=({formFields:a,setFlow:s,flow:t,allIntegURL:p})=>{const h=w(),[o,x]=r.useState(1),[j,u]=r.useState(!1),[v,k]=r.useState({show:!1}),y=D(),{customAction:e}=M,[n,d]=r.useState({name:"CustomAction",type:"CustomAction",randomFileName:y,defaultValue:`<?php if (!defined('ABSPATH')) {exit;} 
    
  function yourFunctionName($trigger){
    $trigger['yourKey'];
    //write here your custom function
  }  
  yourFunctionName($trigger);`,value:""});r.useEffect(()=>{const c=l({},n);delete c.isValid,d(l({},c))},[n==null?void 0:n.value]);const C=()=>{setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),x(2)};return i.jsxs("div",{children:[i.jsx(E,{snack:v,setSnackbar:k}),i.jsx("div",{className:"txt-center mt-2",children:i.jsx(F,{step:2,active:o})}),i.jsxs("div",{className:"btcd-stp-page",style:l({},o===1&&{width:"70%",height:"auto",overflow:"visible"}),children:[(e==null?void 0:e.youTubeLink)&&i.jsx(b,{title:e==null?void 0:e.title,youTubeLink:e==null?void 0:e.youTubeLink}),(e==null?void 0:e.docLink)&&i.jsx(b,{title:e==null?void 0:e.title,docLink:e==null?void 0:e.docLink}),i.jsx("h1",{children:"custom action"}),i.jsx(I,{customActionConf:n,setCustomActionConf:d,formFields:a}),i.jsx("button",{onClick:()=>_(n,d,u),disabled:!n.value,className:"btn f-left btcd-btn-lg green sh-sm flx mt-5",type:"button",children:g("Validated ","bit-integrations")}),i.jsxs("button",{onClick:()=>C(),disabled:!n.isValid,className:"btn f-right btcd-btn-lg green sh-sm flx mt-5",type:"button",children:[g("Next","bit-integrations")," ","Â ",i.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),i.jsx("div",{className:"btcd-stp-page",style:{width:o===2&&"100%",height:o===2&&"auto"},children:i.jsx($,{step:o,saveConfig:()=>V(t,s,p,n,h,"","",u),isLoading:j})})]})};export{Q as default};
