var _=Object.defineProperty;var u=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var b=(a,s,e)=>s in a?_(a,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[s]=e,x=(a,s)=>{for(var e in s||(s={}))I.call(s,e)&&b(a,e,s[e]);if(u)for(var e of u(s))S.call(s,e)&&b(a,e,s[e]);return a};import{i as k,u as w,m as C,r as p,j as t}from"./main-577.js";import{B as N,e as y,_ as L}from"./bi.655.81.js";import{S as M}from"./bi.880.909.js";import{s as P}from"./bi.787.676.js";import{I as R}from"./bi.672.677.js";import A from"./bi.919.259.js";import{h as E,c as T,b as q}from"./bi.870.767.js";import{B as D}from"./bi.295.768.js";import"./bi.827.680.js";import"./bi.587.674.js";import"./bi.232.720.js";import"./bi.934.737.js";import"./bi.622.681.js";import"./bi.933.682.js";import"./bi.265.683.js";function et({formFields:a,setFlow:s,flow:e,allIntegURL:g}){const h=k(),{formID:l}=w(),j=C(N),{siteURL:v}=j,[r,n]=p.useState(!1),[m,f]=p.useState(1),[F,o]=p.useState({show:!1}),[i,c]=p.useState({name:"Bit Form",type:"Bit Form",domainName:v,api_key:"",id:"",field_map:[{formField:"",BitFormMapField:""}],address_field:[],actions:{}}),B=()=>{var d;if(setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),(d=i.actions)!=null&&d.address&&!T(i)){o({show:!0,msg:"Please map address required fields to continue."});return}if(!q(i)){o({show:!0,msg:"Please map fields to continue."});return}i.listId!==""&&f(3)};return t.jsxs("div",{children:[t.jsx(y,{snack:F,setSnackbar:o}),t.jsx("div",{className:"txt-center mt-2",children:t.jsx(M,{step:3,active:m})}),t.jsx(A,{formID:l,bitFormConf:i,setBitFormConf:c,step:m,setstep:f,isLoading:r,setIsLoading:n,setSnackbar:o}),t.jsxs("div",{className:"btcd-stp-page",style:x({},m===2&&{width:900,height:"auto",overflow:"visible"}),children:[t.jsx(D,{formFields:a,handleInput:d=>E(d,i,c,l,n),bitFormConf:i,setBitFormConf:c,isLoading:r,setIsLoading:n,setSnackbar:o}),!i.id&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("br",{}),t.jsx("br",{})]}),t.jsxs("button",{onClick:()=>B(),disabled:i.field_map.length<2||r,className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[L("Next","bit-integrations")," ","Â ",t.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),t.jsx(R,{step:m,saveConfig:()=>P({flow:e,setFlow:s,allIntegURL:g,navigate:h,conf:i,setIsLoading:n,setSnackbar:o}),isLoading:r,dataConf:i,setDataConf:c,formFields:a})]})}export{et as default};
