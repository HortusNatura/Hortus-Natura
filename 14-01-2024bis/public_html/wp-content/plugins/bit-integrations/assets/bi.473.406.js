var M=Object.defineProperty;var b=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var u=(a,e,t)=>e in a?M(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,f=(a,e)=>{for(var t in e||(e={}))_.call(e,t)&&u(a,t,e[t]);if(b)for(var t of b(e))w.call(e,t)&&u(a,t,e[t]);return a};import{i as C,u as N,r as l,j as r}from"./main-577.js";import{e as T,_ as q}from"./bi.655.81.js";import{S as D}from"./bi.880.909.js";import{s as E}from"./bi.787.676.js";import{I as F}from"./bi.672.677.js";import{h as L}from"./bi.666.806.js";import P from"./bi.158.277.js";import{M as R}from"./bi.250.805.js";import"./bi.827.680.js";import"./bi.587.674.js";import"./bi.232.720.js";import"./bi.934.737.js";import"./bi.622.681.js";import"./bi.933.682.js";import"./bi.265.683.js";function te({formFields:a,setFlow:e,flow:t,allIntegURL:p,isInfo:x,edit:h}){const g=C(),{formID:v}=N(),[i,c]=l.useState(!1),[o,d]=l.useState(1),[j,n]=l.useState({show:!1}),y=[{key:"1",label:"Add the user to a membership"},{key:"2",label:"Remove the user from a membership"}],k=[{key:"sub_total",label:"Sub Total",required:!1},{key:"tax_amount",label:"Tax Amount",required:!1},{key:"taxrate",label:"Tax Rate",required:!1},{key:"expiration_date",label:"Expiration Date",required:!1}],[s,m]=l.useState({name:"Memberpress",type:"Memberpress",mainAction:"",field_map:[{formField:"",memberpressFormField:""}],allActions:y,memberpressFields:k,actions:{}}),S=()=>{setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),s.mainAction!==""&&d(3)};function A(){switch(s.mainAction){case"1":return s.statusId===void 0||s.gatewayId===void 0||s.selectedMembership===void 0;default:return!1}}return r.jsxs("div",{children:[r.jsx(T,{snack:j,setSnackbar:n}),r.jsx("div",{className:"txt-center mt-2",children:r.jsx(D,{step:3,active:o})}),r.jsx(P,{formID:v,memberpressConf:s,setMemberpressConf:m,step:o,setStep:d,isLoading:i,setIsLoading:c,setSnackbar:n}),r.jsxs("div",{className:"btcd-stp-page",style:f({},o===2&&{width:900,height:"auto",overflow:"visible"}),children:[r.jsx(R,{formFields:a,handleInput:I=>L(I,s,m),memberpressConf:s,setMemberpressConf:m,isLoading:i,setIsLoading:c,setSnackbar:n,allIntegURL:p,isInfo:x,edit:h}),r.jsxs("button",{onClick:()=>S(),disabled:!s.mainAction||i||A(),className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[q("Next","bit-integrations"),"Â ",r.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),r.jsx(F,{step:o,saveConfig:()=>E({flow:t,setFlow:e,allIntegURL:p,navigate:g,conf:s,setIsLoading:c,setSnackbar:n}),isLoading:i,dataConf:s,setDataConf:m,formFields:a})]})}export{te as default};
